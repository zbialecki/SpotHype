!function(){function e(){for(var e,n={},o=/([^&;=]+)=?([^&;]*)/g,t=window.location.hash.substring(1);e=o.exec(t);)n[e[1]]=decodeURIComponent(e[2]);return n}var n=e(),o=n.access_token,t=n.refresh_token,r=n.error;r?alert("There was an error during the authentication"):(o?(oauthPlaceholder.innerHTML=oauthTemplate({access_token:o,refresh_token:t}),$.ajax({url:"https://api.spotify.com/v1/me",headers:{Authorization:"Bearer "+o},success:function(e){userProfilePlaceholder.innerHTML=userProfileTemplate(e),$("#login").hide(),$("#loggedin").show()}})):($("#login").show(),$("#loggedin").hide()),document.getElementById("obtain-new-token").addEventListener("click",function(){$.ajax({url:"/refresh_token",data:{refresh_token:t}}).done(function(e){o=e.access_token,oauthPlaceholder.innerHTML=oauthTemplate({access_token:o,refresh_token:t})})},!1))}();
//# sourceMappingURL=./public/js/scripts.min.js.map